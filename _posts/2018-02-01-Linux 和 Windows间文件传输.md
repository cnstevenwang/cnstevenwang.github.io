---
tags: [Linux]
---

最开始的需求是始于网站发布，需要把编译好的包从windows的开发机上传至Linux服务器（其实应该有一个专门编译服务器，而不是直接从开发机上进行上传，但当时做的不正规）。  

## 方案一
经过简单的baidu，发现**上传方案一**可以通过scp命令进行上传，基本的格式如下
 + 上传单文件： scp ./本地文件路径 远程登录名@远程地址:服务器上的文件路径。例如 scp ./BuildOutput/index.html  deployuser@10.201.40.19:~  
    注意点：  
        - 在windows上安装bash 执行环境，用来跑scp的指令，我当时是用git bash。  
        - 使用的远程登录用户需要有远程服务器上的路径的写入权限。
 + 上传文件夹下所有的文件：scp ./本地文件夹/* 远程登录名@远程地址:服务器上的文件路径。例如 scp ./BuildOutput/*  deployuser@10.201.40.19:~  

## 方案二
方案一使用一段时间后，发现效率比较低，主要还是要写的指令比较多，需要前后对照着把路径写正确。如果有一种拖拖拽拽，像操作本地文件一样的软件，是不是会很高效？后来发现**上传下载方案二**可视化的scp：winscp。你可以理解为它是用可视化界面封装了scp指令，但是工作效率确实高多了，``winscp值得成为你的日常工具链中的一员``.  

## 方案三
一个偶然的机会，团队有个实习生在linux服务器上写指令，说来惭愧，还不如实习的同学，不过这位同学确实不错，可能比一些工作两年的程序员还好。  
看到他用xshell连上linux的服务器，输入rz，回车，他本地的windows弹出一个文件选择框，直接选择需要上传的文件即可.Amazing!  
准备体验一下这种惊喜：打开putty，连上远程的linux服务器，输入rz，但是没有弹出文件选择框。奇怪，哪里出问题了？  
一通baidu后，原来需要在linux上安装rzsz的包：sudo yum install lrzsz。再次输入指令rz，还是没反应... 问题到底出在哪里？  
原来rz、sz的指令需要使用的客户端能够支持zmodem传出协议，但是老版本的putty是不支持，需要更新到putty-nd 3.0+，或者用改用xshell。
最后总结一下方案三：
 + 仅支持单文件上传下载
 + 安装可以支持zmodem协议的工具，如xshell，或者putty-nd 3.0及以上
 + 远程linux上安装lrzsz: sudo yum install lrzsz
 + 上传文件至linux：在linux上执行 rz，在打开的文件选择框中选择文件（可以配置默认打开的文件夹，但是没有探究怎么配置，以后补充吧）
 + 发送文件至windows：在linux上执行 sz ./文件名

 待补充：怎么配置rz的默认打开文件夹路径